let admission_notice_list=[
    {
        notice_id:"an001",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:"56456dftgsdfs4sdf584s565"
    },
    {
        notice_id:"an002",
        notice_date:"25-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an003",
        notice_date:"28-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:"sdgfsd6541s6df8541sdf"
    },
    {
        notice_id:"an004",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an005",
        notice_date:"23-10-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:"dsfd56846sdf464sdf"
    },
    {
        notice_id:"an006",
        notice_date:"21-10-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an007",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an008",
        notice_date:"24-10-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an009",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an0010",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an0011",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:"sdfgsdsd86sdf4s6d87f894"
    },
    {
        notice_id:"an0012",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an0013",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an0014",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an0015",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an0016",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an0017",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an0018",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },
    {
        notice_id:"an0019",
        notice_date:"20-08-2024",
        notice_content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, voluptatem. Perferendis dolore placeat earum at!",
        notice_file:""
    },

]

let admission_course_list=[
    {
        course_full_name:"Bachelor of Technology",
        course_short_name:"(B.Tech)",
        course_duration:"4 year",
        course_academic_year:"2024-2025",
        course_short_description:"BTech course is a four-year undergraduate degree awarded to candidates interested in engineering and technology.",
        course_application_last_date:"30-05-2025",
        course_id:"bt001",
        course_admission_id:"",
        course_admission_file_id:"1RanqysKCpdDfx_H2wtIIQDkL3PerOUKSAtKpayTNxC8",
        course_admission_file_embed:"2PACX-1vSpdoC5ajVwI_5qOBjwAQ6LkGhvOWTEimbgK-ZRsUPue-r_sfuNisFsWMfQnyHzh0ulB0L9lcjPnvYF",
    },
    {
        course_full_name:"Bachelor of computer Application",
        course_short_name:"(BCA)",
        course_duration:"3 year",
        course_academic_year:"2024-2025",
        course_short_description:"A Bachelor of Computer Applications (BCA) is a three-year undergraduate degree program that focuses on the practical aspects of computer science and its application",
        course_application_last_date:"30-11-2024",
        course_id:"bc002",
        course_admission_id:"",
        course_admission_file_id:"1mKxvwEbxHi3p5HlnBCFUuMHZeZPCRPKdOW27YkD5_54",
        course_admission_file_embed:"2PACX-1vQbqYZ7HVnJIqyIyZVqqNKCuNDjyyRbIXcM0iD4CnP0shr4Sl8gZpNkGsHfoB27wMD6iv6Nuv9I_KI5",
    },
    {
        course_full_name:"Master of Computer Application",
        course_short_name:"(MCA)",
        course_duration:"2 year",
        course_academic_year:"2024-2025",
        course_short_description:"A Master of Computer Applications (MCA) is a postgraduate course that focuses on computer science. It provides students with a broad understanding of computer networks, software development, database management, and programming languages",
        course_application_last_date:"30-09-2024",
        course_id:"mc005",
        course_admission_id:"",
        course_admission_file_id:"1hN-cjsx2IoelleMHM0xt5OSCbHXsvmXDEBa3BBol-qQ",
        course_admission_file_embed:"2PACX-1vTmQQMBIgH-p7APTT2sfC4dwbwd_Qlgyelfxx0Hr-HPvMmtznIQY_tWv4WiIeOOkgaqL1r_8GPNjewL",
    },
    {
        course_full_name:"Master of Business Academy",
        course_short_name:"(MBA)",
        course_duration:"2 year",
        course_academic_year:"2024-2025",
        course_short_description:"A Master of Business Administration (MBA) is a postgraduate degree that teaches students business practices and management skills",
        course_application_last_date:"01-06-20245",
        course_id:"mb004",
        course_admission_id:"",
        course_admission_file_id:"12M8AJ3UGpc4xETKf0VKH_yd9fQI8UzBWn2aM0pzShk8",
        course_admission_file_embed:"2PACX-1vRAvLJN39-gkWioe3IM9FEQqGbF7_umiPYlPcdhe2P_BqCVMzcDC-5YW6d5vYbEfZffUuBNgdsW8BdT",
    },
    {
        course_full_name:"Master of Technology",
        course_short_name:"(M.Tech)",
        course_duration:"2 year",
        course_academic_year:"2024-2025",
        course_short_description:"MTech is a 2-year long postgraduate engineering course. The Full Form of M Tech is Master of Technology. MTech courses are available in different specializations such as Data Science, AI, Cyber Security, etc",
        course_application_last_date:"25-10-2024",
        course_id:"b0001",
        course_admission_id:"",
        course_admission_file_id:"1P6L9PWAnAtL6RQghA5GYfMygDLQ88EQQGGvFwnRXq14",
        course_admission_file_embed:"2PACX-1vShHJRP7sYS8AOGUTnF3lbTNZ4qZgeswJdlnuIFPauXDk6QfTGExSf4n9cpKE6EFgNqeAESlXM6rY1j",
    }
    
]


// ---------------Import sectiuon------------
import { open_popup } from "../../components/Functions/common_function.js";






// ----------------get date formate in yyyy-mm-dd--------------------------------
function getYMD(date){
    let formattedDate;
    if (typeof date=="string" &&  date.split('-')[0].length){
       formattedDate=new Date(date.split("-").reverse().join("-"));
    }
    else{
        formattedDate = new Date(date.toISOString().split('T')[0]);
    }

    return formattedDate;
}



// -------------------------Apppeing Notices by fetching from Database-----------------------

let append_admission_notice_list=(data)=>{

    data.sort((d1,d2)=>{
        return getYMD(d2.notice_date) - getYMD(d1.notice_date);
    })
    data.map((ele)=>{
        let notice_box_div=document.createElement("div");
        notice_box_div.setAttribute("class","notice-box");
 
        if(ele.notice_file!=""){
            notice_box_div.innerHTML=`<div class="notice-content">
                                <li><a href="https://drive.google.com/uc?export=download&id=${ele.notice_file}" target="_blank"><i class="fa-solid fa-file-arrow-down"></i> &nbsp;</a>${ele.notice_content}</li>
                            </div>
                            <div class="notice-date">
                                <p><span>Released On:- </span>${ele.notice_date}</p>
                            </div>`;
        }
        else{
            notice_box_div.innerHTML=`<div class="notice-content">
                                <li><a href="https://drive.google.com/uc?export=download&id=${ele.notice_file}" target="_blank"></a>${ele.notice_content}</li>
                            </div>
                            <div class="notice-date">
                                <p><span>Released On:- </span>${ele.notice_date}</p>
                            </div>`;
        }

        document.querySelector("#admission-notice-list-container #admission-notice-list").append(notice_box_div);
    })

}

append_admission_notice_list(admission_notice_list);








// ---------------------Append Course box-----------------------
let append_admission_course_list=(data)=>{
    // document.querySelector("#admission-course-list #admission-course-list-container").innerHTML=null;
    data.map((ele)=>{
        let course_box=document.createElement("div");
        course_box.setAttribute("class","course-box");
        
        let htmlc=`<div> <h3 class="course-box-name">${ele.course_full_name}<br> ${ele.course_short_name}</h3>
                            <p class="course-box-duration"><b>Course Duration:- </b> ${ele.course_duration}</p>
                            <p class="course-box-academicyear"><b>Academic year:- </b> ${ele.course_academic_year}</p>
                            <p class="course-box-para">${ele.course_short_description}</p>
                            <p class="course-box-lastdate"> <b>Last Date:- </b> ${ele.course_application_last_date}</p>
    
                            <div class="course-box-btn">
                                <a href="" id="course-box-view-details-btn"><i class="fa-solid fa-eye"></i> &nbsp; View Details</a>
                            </div>
                            
                            <div class="course-box-status">
                                
                            </div> 
                        </div>
                        `

        let doc = new DOMParser().parseFromString(htmlc, 'text/html');
        let doc_data = doc.body.firstChild;
        course_box.append(doc_data);



        //----------------- status sahown accordingly------------------
        if((getYMD(ele.course_application_last_date).getTime()) > (getYMD(new Date()).getTime())){
            let status=document.createElement("p")
            status.setAttribute("class", "open");
            status.innerText="Application Open";
            let admission_apply_btn=document.createElement("a");
            admission_apply_btn.setAttribute("id", "course-box-apply-btn");
            admission_apply_btn.href='../Admission/application.html';
            admission_apply_btn.innerHTML='<i class="fa-solid fa-pen"></i> &nbsp; Apply';
            

            
            doc_data.querySelector(".course-box .course-box-btn").appendChild(admission_apply_btn);
            doc_data.querySelector(".course-box .course-box-status").append(status);
        }
        else{
            let status=document.createElement("p")
            status.setAttribute("class", "closed");
            status.innerText="Application closed";

            course_box.style.filter='grayscale(0.9)'
            doc_data.querySelector(".course-box .course-box-status").append(status);
        }



        // ---------------View Details btn call---------------
        doc_data.querySelector("#course-box-view-details-btn").addEventListener("click",(e)=>{
            e.preventDefault();
            let popup_html=`<div id="btn-sec">
                        <a href="https://docs.google.com/document/d/${ele.course_admission_file_id}/export?format=pdf" target="_blank" id="admission-popup-download-btn"><i class="fa-solid fa-print"></i> Print</a>
                        
                    </div>

                    <div id="embed-sec">
                        <iframe src="https://docs.google.com/document/d/e/${ele.course_admission_file_embed}/pub?embedded=true"></iframe>
                    </div>`

            let doc = new DOMParser().parseFromString(popup_html, 'text/html');
            let popup_data = doc.body;
            open_popup(popup_data);
        })
        


        document.querySelector("#admission-course-list #admission-course-list-container").append(course_box);


       

    })
}

append_admission_course_list(admission_course_list)